<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.15"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>My Project: Simulator Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">My Project
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.15 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="classSimulator-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">Simulator Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>A class used to simulate a dynamical system driven by a controller and a disturbance process.  
 <a href="classSimulator.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="Simulator_8h_source.html">Simulator.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a4cfe319e3abf788ce05e1ddb322a904e"><td class="memItemLeft" align="right" valign="top"><a id="a4cfe319e3abf788ce05e1ddb322a904e"></a>
&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSimulator.html#a4cfe319e3abf788ce05e1ddb322a904e">Simulator</a> (int horizon, const Vec &amp;x0, dynamicsFcn dynamics=nullptr, controlFcn controller=nullptr, disturbFcn disturber=nullptr, Param &amp;params=0)</td></tr>
<tr class="memdesc:a4cfe319e3abf788ce05e1ddb322a904e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructer assigning horizon, IC, dynamics, controller, disturbance functions and Parameter object. <br /></td></tr>
<tr class="separator:a4cfe319e3abf788ce05e1ddb322a904e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3bdb2a9b121073e71e424203a9416b04"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSimulator.html#a3bdb2a9b121073e71e424203a9416b04">step</a> ()</td></tr>
<tr class="memdesc:a3bdb2a9b121073e71e424203a9416b04"><td class="mdescLeft">&#160;</td><td class="mdescRight">Advance the dynamics one time-step.  <a href="#a3bdb2a9b121073e71e424203a9416b04">More...</a><br /></td></tr>
<tr class="separator:a3bdb2a9b121073e71e424203a9416b04"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afbc1911a12ff19714760b7791f69f178"><td class="memItemLeft" align="right" valign="top"><a id="afbc1911a12ff19714760b7791f69f178"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSimulator.html#afbc1911a12ff19714760b7791f69f178">simulate</a> ()</td></tr>
<tr class="memdesc:afbc1911a12ff19714760b7791f69f178"><td class="mdescLeft">&#160;</td><td class="mdescRight">Run the simulation from m_time to m_horizon. <br /></td></tr>
<tr class="separator:afbc1911a12ff19714760b7791f69f178"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a028f379c1190c84b6af0a4824f10dad0"><td class="memItemLeft" align="right" valign="top"><a id="a028f379c1190c84b6af0a4824f10dad0"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSimulator.html#a028f379c1190c84b6af0a4824f10dad0">reset</a> (int horizon, const Vec &amp;x0, dynamicsFcn dynamics, controlFcn controller, disturbFcn disturber, Param &amp;params)</td></tr>
<tr class="memdesc:a028f379c1190c84b6af0a4824f10dad0"><td class="mdescLeft">&#160;</td><td class="mdescRight">reset the simulator (does the same thing as constructor) <br /></td></tr>
<tr class="separator:a028f379c1190c84b6af0a4824f10dad0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af19085bb19ced728593aa27835f6e591"><td class="memItemLeft" align="right" valign="top"><a id="af19085bb19ced728593aa27835f6e591"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSimulator.html#af19085bb19ced728593aa27835f6e591">setDynamics</a> (dynamicsFcn dynamics)</td></tr>
<tr class="memdesc:af19085bb19ced728593aa27835f6e591"><td class="mdescLeft">&#160;</td><td class="mdescRight">set dynamics function <br /></td></tr>
<tr class="separator:af19085bb19ced728593aa27835f6e591"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a53e30a07431c73a9be87657f0eb1b0b4"><td class="memItemLeft" align="right" valign="top"><a id="a53e30a07431c73a9be87657f0eb1b0b4"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSimulator.html#a53e30a07431c73a9be87657f0eb1b0b4">setController</a> (controlFcn controller)</td></tr>
<tr class="memdesc:a53e30a07431c73a9be87657f0eb1b0b4"><td class="mdescLeft">&#160;</td><td class="mdescRight">set controller function <br /></td></tr>
<tr class="separator:a53e30a07431c73a9be87657f0eb1b0b4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a77650bca5cc7fd8e71207453339f55a5"><td class="memItemLeft" align="right" valign="top"><a id="a77650bca5cc7fd8e71207453339f55a5"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSimulator.html#a77650bca5cc7fd8e71207453339f55a5">setDisturber</a> (disturbFcn disturber)</td></tr>
<tr class="memdesc:a77650bca5cc7fd8e71207453339f55a5"><td class="mdescLeft">&#160;</td><td class="mdescRight">set disturbance function <br /></td></tr>
<tr class="separator:a77650bca5cc7fd8e71207453339f55a5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a622af3bddf0b85d4115ba06ca04f1d12"><td class="memItemLeft" align="right" valign="top"><a id="a622af3bddf0b85d4115ba06ca04f1d12"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSimulator.html#a622af3bddf0b85d4115ba06ca04f1d12">setParams</a> (Param params)</td></tr>
<tr class="memdesc:a622af3bddf0b85d4115ba06ca04f1d12"><td class="mdescLeft">&#160;</td><td class="mdescRight">set Parameters object <br /></td></tr>
<tr class="separator:a622af3bddf0b85d4115ba06ca04f1d12"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae7eeb81e869342f070002c64f5fe67f5"><td class="memItemLeft" align="right" valign="top"><a id="ae7eeb81e869342f070002c64f5fe67f5"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSimulator.html#ae7eeb81e869342f070002c64f5fe67f5">setX0</a> (Vec x0)</td></tr>
<tr class="memdesc:ae7eeb81e869342f070002c64f5fe67f5"><td class="mdescLeft">&#160;</td><td class="mdescRight">set initial condition <br /></td></tr>
<tr class="separator:ae7eeb81e869342f070002c64f5fe67f5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1b7d632e3a3552977c029cf2ec9ffe6d"><td class="memItemLeft" align="right" valign="top"><a id="a1b7d632e3a3552977c029cf2ec9ffe6d"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSimulator.html#a1b7d632e3a3552977c029cf2ec9ffe6d">setVerbose</a> (bool verbose)</td></tr>
<tr class="memdesc:a1b7d632e3a3552977c029cf2ec9ffe6d"><td class="mdescLeft">&#160;</td><td class="mdescRight">set whether <a class="el" href="classSimulator.html" title="A class used to simulate a dynamical system driven by a controller and a disturbance process.">Simulator</a> verbosity <br /></td></tr>
<tr class="separator:a1b7d632e3a3552977c029cf2ec9ffe6d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afa7f3ae7bb179cd053370ba916888951"><td class="memItemLeft" align="right" valign="top"><a id="afa7f3ae7bb179cd053370ba916888951"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSimulator.html#afa7f3ae7bb179cd053370ba916888951">getVerbose</a> () const</td></tr>
<tr class="memdesc:afa7f3ae7bb179cd053370ba916888951"><td class="mdescLeft">&#160;</td><td class="mdescRight">get <a class="el" href="classSimulator.html" title="A class used to simulate a dynamical system driven by a controller and a disturbance process.">Simulator</a> verbosity <br /></td></tr>
<tr class="separator:afa7f3ae7bb179cd053370ba916888951"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a04c16ab9b54382c4e87a467d818ef24b"><td class="memItemLeft" align="right" valign="top"><a id="a04c16ab9b54382c4e87a467d818ef24b"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSimulator.html#a04c16ab9b54382c4e87a467d818ef24b">writeToFile</a> (const string &amp;stateFile, const string &amp;inputFile)</td></tr>
<tr class="memdesc:a04c16ab9b54382c4e87a467d818ef24b"><td class="mdescLeft">&#160;</td><td class="mdescRight">write simulation state and input trajectories to stateFile and inputFile, respectively <br /></td></tr>
<tr class="separator:a04c16ab9b54382c4e87a467d818ef24b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:a91551e262a87157d9d523d5332bd2a58"><td class="memItemLeft" align="right" valign="top"><a id="a91551e262a87157d9d523d5332bd2a58"></a>
static double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSimulator.html#a91551e262a87157d9d523d5332bd2a58">randn</a> ()</td></tr>
<tr class="memdesc:a91551e262a87157d9d523d5332bd2a58"><td class="mdescLeft">&#160;</td><td class="mdescRight">static helper function to generate N(0,1) r.v. <br /></td></tr>
<tr class="separator:a91551e262a87157d9d523d5332bd2a58"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p class="">A class used to simulate a dynamical system driven by a controller and a disturbance process. </p>
<p class="">This is a class used to simulate dynamics driven by a controller and a disturbance process. The dynamics are specified by dynamicsFcn, the controller by controllerFcn, and the disturbance process by disturbFcn. It stores the state, input, and disturbance history in vectors, which can then be printed out to separate files (currently only state and input files are created).</p>
<p class="">Vec is class used to represent vectors, Param is a class or struct containing information about dynamics, controller, disturbances. Must be compatible with Vec. For example, if Vec is Eigen::VectorXd, then Param could be used to specify state-space parameters that are represented as Eigen::MatrixXd;</p>
<p class="">We assume that Vec has a default construct Vec() &ndash; this is needed to instantiate state, input, disturbance before they are populated in their respective functions, as described below</p>
<p class="">dynamicsFcn(Vec&amp; nextState, Vec&amp; state, Vec&amp; input, Vec&amp; disturbance, Param&amp; params): uses state, input, disturbance, pararams to compute nextState</p>
<p class="">controlFcn(Vec&amp; input, Vec&amp; state, Param&amp; params): uses state, params to compute input</p>
<p class="">disturbFcn(Vec&amp; disturbance, Param&amp; params): uses params to compute disturbance </p>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a id="a3bdb2a9b121073e71e424203a9416b04"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3bdb2a9b121073e71e424203a9416b04">&#9670;&nbsp;</a></span>step()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">VecParamT void Simulator::step </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Advance the dynamics one time-step. </p>
<p class="">This function advances the simulator one time-step. If m_time = t, it initializes m_disturbance[t], m_state[t+1], and m_input[t] with empty Vectors (by calling their default constructor), then runs, in order, the disturbance function, the controller function, and the dynamics funciton to populate m_disturbance[t], m_input[t], and m_state[t+1], respectively. It then advances time by one, and if m_verbose is set to true, spits out x(t+1), u(t), and w(t). </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li><a class="el" href="Simulator_8h_source.html">Simulator.h</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.15
</small></address>
</body>
</html>
